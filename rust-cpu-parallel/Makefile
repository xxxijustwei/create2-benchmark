.PHONY: build run test info benchmark clean help

# é»˜è®¤ç›®æ ‡
all: build

# æ„å»ºreleaseç‰ˆæœ¬
build:
	@echo "ğŸ”¨ æ„å»ºé¡¹ç›®..."
	@cargo build --release

# è¿è¡Œbenchmark
run: build
	@echo "ğŸš€ è¿è¡ŒåŸºå‡†æµ‹è¯•..."
	@cargo run --release

# è¿è¡Œå•æ¬¡æµ‹è¯•
test: build
	@echo "ğŸ§ª è¿è¡Œå•æ¬¡æµ‹è¯•éªŒè¯..."
	@cargo run --release -- test

# å®‰è£…ä¾èµ–
deps:
	@echo "ğŸ”„ æ›´æ–°ä¾èµ–..."
	@cargo update

# æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯
info: build
	@echo "â„¹ï¸  æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯..."
	@cargo run --release -- info

clean:
	@echo "ğŸ§¹ æ¸…ç†æ„å»ºæ–‡ä»¶..."
	@cargo clean
	@rm -rf target/

# æ˜¾ç¤ºå¸®åŠ©
help:
	@echo "CREATE2 Benchmark - Rust CPU Parallel"
	@echo ""
	@echo "å¯ç”¨å‘½ä»¤:"
	@echo "  make build     - æ„å»ºreleaseç‰ˆæœ¬"
	@echo "  make run       - è¿è¡ŒCPUå¹¶è¡Œbenchmark"
	@echo "  make test      - è¿è¡Œå•æ¬¡æµ‹è¯•éªŒè¯"
	@echo "  make info      - æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯"
	@echo "  make deps      - æ›´æ–°ä¾èµ–"
	@echo "  make clean     - æ¸…ç†æ„å»ºæ–‡ä»¶"
	@echo "  make help      - æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯"