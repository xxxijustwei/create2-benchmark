# Go CREATE2 Benchmark (Optimized)

.PHONY: all build run test clean help

# é»˜è®¤ç›®æ ‡
all: build

# æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶
build:
	@echo "ğŸ”¨ æ„å»ºé¡¹ç›®..."
	go mod tidy
	go build -ldflags="-s -w" -o bin/create2-benchmark .

# è¿è¡Œbenchmark
run: build
	@echo "ğŸš€ è¿è¡ŒåŸºå‡†æµ‹è¯•..."
	./bin/create2-benchmark

# è¿è¡Œæµ‹è¯•
test:
	@echo "ğŸ§ª è¿è¡Œå•ä¸ªæµ‹è¯•..."
	go mod tidy
	@go run . test

# æ¸…ç†æ„å»ºæ–‡ä»¶
clean:
	@echo "ğŸ§¹ æ¸…ç†æ„å»ºæ–‡ä»¶..."
	rm -rf bin/

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
help:
	@echo "å¯ç”¨çš„å‘½ä»¤ï¼š"
	@echo "  build - æ„å»ºé¡¹ç›®"
	@echo "  run   - è¿è¡ŒåŸºå‡†æµ‹è¯•"
	@echo "  test  - è¿è¡Œå•ä¸ªæµ‹è¯•"
	@echo "  clean - æ¸…ç†æ„å»ºæ–‡ä»¶"